<script src="https://cdn.jsdelivr.net/npm/ipfs@0.58.4/dist/index.min.js"></script>

<h1>IPFS bonus</h1>
<p>This page allows you to share your LOSSST high scores and see the leaderboards on the IPFS network

<h3>High scores</h3>

<button id=go>GO</button>

<h3>Submit your high score</h3>

<p>(coming soon, in the meantime your high score is saved locally)

<script>
onload = async() => {

  node = await Ipfs.create();

  /*let data = 'Hello, max3'

  // add your data to to IPFS - this can be a string, a Buffer,
  // a stream of Buffers, etc
  const results = await node.add(data)

  // we loop over the results because 'add' supports multiple 
  // additions, but we only added one entry here so we only see
  // one log line in the output
  toto = results.cid.toString();
  console.log(toto);
  */
}

var data;

go.onclick = async () => {
  
  stream = await node.ls("QmXjjixpERfBv5mnAo31mbYrBHRSEi2YXxpSHnBfq7aNcq");
  //console.log(stream);

  for await (const chunk of stream) {
    console.log(chunk);
  }

  //console.log(data);
  
  a = await node.add({
      path: 'QmXjjixpERfBv5mnAo31mbYrBHRSEi2YXxpSHnBfq7aNcq/a.txt',
      content: 'ABC'
  });
  
  console.log(a);
}

</script>

<style>
body { max-width: 800px; margin: auto; background: #000; color: #fff; font-family: calibri, arial; padding: 50px 0 0; }
</style>