<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<title>TITLE</title>
<body>
<div id=b></div>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; transform-style: preserve-3d; }
body { background: #000; user-select: none; -webkit-tap-highlight-color: transparent; font: 14px calibri,arial; }
h1 { margin: 30px }
h2 { margin: 10px }
#b { margin: 5px auto; padding: 0 0 10px; color: #fff; max-width: 600px; border: 1px solid #fff; text-align: center; box-shadow: 5px 5px 5px #444; perspective: 700px; min-height: calc(100vh - 20px); position: relative; }
p { font-size: 18px }

/** Menu **/
.back { cursor: pointer; position: absolute; top: 30px; left: 20px; font-size: 30px; width: 50px; height: 50px; z-index: 2; }

/* Blocks */
.b { cursor: pointer; border: 1px solid #fff; margin: 20px; padding: 45px 150px 45px 45px; min-height: 150px; position: relative; box-shadow: 5px 5px 5px #444; transition: transform .5s; transform: translateZ(20px) }
.l { padding: 45px }
.p { padding: 20px; width: 25%; margin: 3%; min-height: 120px; display: inline-block; }
.lock { opacity: .5 }
.b svg { position: absolute; right: 50px; top: 50%; transform:translateY(-50%); opacity: .5; fill: #000; }
.b.w1 { background: linear-gradient(45deg, #8d8, #161) }
.b.w2 { background: linear-gradient(45deg, #fe5, #760) }
.b.w3 { background: linear-gradient(45deg, #cee, #477) }
.b.w4 { background: linear-gradient(45deg, #c20, #520) }
.b.w5 { background: #000 }
.b.w5 { padding: 45px; }
.b.w5 svg { position: absolute; top: 0; left: 0; transform: none; width: 100%; height: 100%; fill: #aaa; }
@media (hover: hover) and (pointer: fine) {
  .b:hover { transform: translateZ(20px)rotateX(10deg); }
  .l:hover { transform: translateZ(20px)rotateX(-10deg); }
  .p:hover { transform: translateZ(20px)rotateY(10deg); }
  .lock:hover { transform: translateZ(20px); }
}

</style>

<script>
world = 1; // 0: main menu, 1-5: current world
level = 1; // 0: world menu, 1-n: current level
puzzle = 0; // 0: level menu, 1:n: current puzzle
data = [

  // No world 0
  [],
  
  // World 1
  [
    
    // No level 0
    [],
    
    // Level 1
    [
      
      // No puzzle 0
      0,
      
      // Puzzle 1
      1,
      
      // Puzzle 2
      1,
      
      // Puzzle 3
      1,
      
      // Puzzle 4
      1,
      
      // Puzzle 5
      1,
      
      // Puzzle 6
      1,
      
      // Puzzle 7
      1,
      
      // Puzzle 8
      1,
      
      // Puzzle 9
      1,
    
    ],
    
    // Level 2
    [],
    
    // Level 3
    [],
    
    // Level 4
    [],
    
  
  ],
  
  // World 2
  [],
  
  // World 3
  [],
  
  // World 4
  [],
  
  // World 5
  [],

];

// SVG shapes
svg = [
  
  // No
  '',
  
  // Rocket 1 - 4
  '<svg width=99 height=99><path d="M50 30Q20 40 20 90L80 90Q80 40 50 30L50 15" stroke="#000000"/><ellipse cx=50 cy=65 rx=12 ry=12 stroke="#000000"/></svg>',
  '<svg width=99 height=99><rect x=20 y=0 width=60 height=99 stroke="#000000"/><path d="M20 30L1 80L20 75Z" stroke="#000000"/><path d="M80 30L99 79L80 75Z" stroke="#000000"/></svg>',
  '<svg width=99 height=99><rect x=20 y=5 width=60 height=65 stroke="#000000"/><path d="M30 70L22 85L48 85L40 70Z" stroke="#000000"/><path d="M60 70L52 85L78 85L70 70Z" stroke="#000000"/></svg>',
  '<svg width=99 height=99><rect x=80 y=10 width=10 height=80 stroke="#000000"/><path d="M90 90L80 80L90 80L80 70L90 70L80 60L90 60L80 50L90 50L80 40L90 40L80 30L90 30L80 20L90 20L80 10" stroke="#000000"/><rect x=55 y=25 width=25 height=3 stroke="#000000"/><rect x=55 y=50 width=25 height=3 stroke="#000000"/></svg>',
  
  // Stars
  '<svg id="star" fill="#aaa"></svg>'
]

// Draw screen
draw = () => {
  var html, i;
  html = "";
  
  // Worlds
  if(world == 0){
    html += `<h1>TITLE</h1>`;
    for(i in data){
      if(i > 0)
        html += `<div class="b w w${i} ${i == 1 ? "" : "lock"}" onclick="draw(world=${i})">${svg[+i]}<h2>${i==5 ? "SPACE" : "World " + i}</h2><p>${i == 1 ? "0 / 100" : ("🔒 " + i * 20 + " stars to unlock")}</div></div>`
    }
  }
  
  // Levels
  else if(level == 0){
    
    html += `<h1>World ${world}</h1><div class="back" onclick="draw(world=0)">&lt;</div>`;
    for(i in data[world]){
      if(i > 0)
        html += `<div class="b w${world} l l${i}" onclick="draw(level=${i})"><h2>Level ${i}</h2></div>`
    }
  }
  
  // Puzzles
  else if(puzzle == 0){
    
    html += `<h1>World ${world} - Level ${level}</h1><div class=back onclick="draw(level=0)">&lt;</div>`;
    for(i in data[world][level]){
      if(i > 0)
        html += `<div class="b w${world} l l${i} p p${i} ${i < 4 ? "" : "lock"}" onclick="draw(puzzle=${i})"><h2>${i}</h2></div>`
    }
  }
  b.innerHTML = html;

  // Fill star svg if present
  if(top.star)setTimeout(()=>{for(i=300;i--;)star.innerHTML+=`<text x=${Math.random()*500} y=${Math.random()*500}>.`},50);
}

draw();
</script>